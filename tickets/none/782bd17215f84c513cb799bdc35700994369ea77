Subject: error when running 'it init' on uninitialzed repository
Issuer: Olaf Ohlenmacher <olaf.ohlenmacher@ldi.rlp.de>
Date: 2014-09-26 14:05:37
Type: bug
Priority: 2
Weight: 3
Status: test
Assigned to: -

+ git-it fails with an 'IndexError'
+ git-it errornous creates the 'tickets' directory

    $ it init
    Traceback (most recent call last):
      File "/home/olf/bin/it", line 80, in <module>
        g.init()
      File "/home/olf/lib/gitit.py", line 124, in init
        curr_branch = git.current_branch()
      File "/home/olf/lib/libgit.py", line 14, in current_branch
        return filter(lambda x: x[1], all_branches())[0][0]
    IndexError: list index out of range
    $ git branch -a
    $ ls -F
    tickets/
    $ ls -A tickets/
    .hold
    $ rm -rf tickets/
    $ git add .
    $ git commit -m "initial commit"
    [...]
    $ it init
    Initialized empty ticket database.